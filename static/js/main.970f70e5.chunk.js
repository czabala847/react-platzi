(this["webpackJsonptodo-machine"]=this["webpackJsonptodo-machine"]||[]).push([[0],{22:function(e,t,c){},29:function(e,t,c){},30:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),o=c(8),s=c.n(o),r=(c(22),c(5)),l=c(4),i=c(0);function d(){return Object(i.jsxs)("button",{className:"btn btn-blue","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:[Object(i.jsx)("span",{className:"mr-3",children:"Nuevo "}),Object(i.jsx)(r.a,{icon:l.b})]})}var u=c(10),j=c(3);var m=n.a.createContext();function b(e){var t=function(e,t){var c=n.a.useState(t),a=Object(j.a)(c,2),o=a[0],s=a[1],r=n.a.useState(!0),l=Object(j.a)(r,2),i=l[0],d=l[1],u=n.a.useState(!1),m=Object(j.a)(u,2),b=m[0],x=m[1];return n.a.useEffect((function(){setTimeout((function(){try{var c,a=localStorage.getItem(e);a?c=JSON.parse(a):(localStorage.setItem(e,JSON.stringify(t)),c=t),s(c),d(!1)}catch(b){x(!0)}}),1e3)}),[]),{item:o,saveItem:function(t){localStorage.setItem(e,JSON.stringify(t)),s(t)},loading:i,error:b}}("TODOS_V1",[]),c=t.item,a=t.saveItem,o=t.loading,s=t.error,r=n.a.useState(""),l=Object(j.a)(r,2),d=l[0],b=l[1],x=c.filter((function(e){return!!e.complete})).length,O=c.length,h=c.filter((function(e){return e.text.toLowerCase().includes(d.toLowerCase())}));return Object(i.jsx)(m.Provider,{value:{loading:o,error:s,completedTodos:x,allTodos:O,searchValue:d,setSearchValue:b,searchedtodos:h,completeTodo:function(e){var t=c.findIndex((function(t){return t.id===e})),n=Object(u.a)(c);n[t].complete=!0,a(n)},deleteTodo:function(e){var t=c.findIndex((function(t){return t.id===e})),n=Object(u.a)(c);n.splice(t,1),a(n)},addTodo:function(e){var t=Object(u.a)(c),n=t.reduce((function(e,t){return e.id>t.id?e.id:t.id}));t.push({id:n+1,complete:!1,text:e}),a(t)}},children:e.children})}function x(){var e=n.a.useContext(m),t=e.completedTodos,c=e.allTodos;return Object(i.jsx)("section",{className:"container",children:Object(i.jsx)("div",{className:"row",children:Object(i.jsxs)("div",{className:"col-12 col-md-6 offset-md-3 d-flex align-items-center justify-content-between",children:[Object(i.jsxs)("h2",{className:"my-5",children:["Has completado ",t," de ",c," TODOs"]}),Object(i.jsx)(d,{})]})})})}c(29);function O(){var e=n.a.useContext(m),t=e.searchValue,c=e.setSearchValue;return Object(i.jsx)("section",{className:"container mb-4",children:Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col-12 col-md-6 offset-md-3",children:Object(i.jsx)("input",{className:"form-control",type:"text",placeholder:"Buscar TO-DO",value:t,onChange:function(e){c(e.target.value)}})})})})}function h(e){return Object(i.jsx)("section",{className:"container",children:Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col-12 col-md-6 offset-md-3",children:Object(i.jsx)("ul",{className:"m-0 p-0",children:e.children})})})})}c(30);function f(e){return Object(i.jsxs)("li",{className:"Todo-Item",children:[Object(i.jsx)(r.a,{className:"icon ".concat(e.complete?"text-success":"text-muted"," "),icon:l.a,onClick:e.onComplete}),Object(i.jsxs)("span",{className:"".concat(e.complete&&"text-decoration-line-through"),children:[" ",e.text," "]}),Object(i.jsx)(r.a,{className:"text-danger icon float-end",icon:l.c,onClick:e.onDelete})]})}function p(e){return s.a.createPortal(Object(i.jsx)("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(i.jsx)("div",{className:"modal-dialog",children:Object(i.jsxs)("div",{className:"modal-content",children:[Object(i.jsxs)("div",{className:"modal-header",children:[Object(i.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:e.title?e.title:""}),Object(i.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(i.jsx)("div",{className:"modal-body",children:e.children})]})})}),document.querySelector("#modal"))}var v=c(14);function N(){var e=n.a.useState(""),t=Object(j.a)(e,2),c=t[0],a=t[1],o=n.a.useContext(m).addTodo;return Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o(c);var t=document.getElementById("exampleModal");v.Modal.getInstance(t).hide()},children:[Object(i.jsx)("div",{className:"mb-3",children:Object(i.jsx)("textarea",{className:"form-control",id:"nuevo-todo",rows:"3",value:c,placeholder:"Ir al cine a las 8:00",onChange:function(e){a(e.target.value)}})}),Object(i.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Guardar"})]})}function g(){var e=n.a.useContext(m),t=e.error,c=e.loading,a=e.searchedtodos,o=e.completeTodo,s=e.deleteTodo;return Object(i.jsxs)(n.a.Fragment,{children:[Object(i.jsx)(x,{}),Object(i.jsx)(O,{}),Object(i.jsxs)(h,{children:[t&&Object(i.jsx)("p",{children:"Ocurri\xf3 un error..."}),c&&Object(i.jsx)("p",{children:"Estamos cargando..."}),!c&&!a.length&&Object(i.jsx)("p",{children:"Crear un To-Do"}),a.map((function(e){return Object(i.jsx)(f,{complete:e.complete,text:e.text,onComplete:function(){return o(e.id)},onDelete:function(){return s(e.id)}},e.id)}))]}),Object(i.jsx)(p,{title:"Crear nuevo To-do",children:Object(i.jsx)(N,{})})]})}var T=function(){return Object(i.jsx)(b,{children:Object(i.jsx)(g,{})})};c(52),c(53);s.a.render(Object(i.jsx)(T,{}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.970f70e5.chunk.js.map