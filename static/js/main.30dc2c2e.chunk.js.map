{"version":3,"sources":["TodoCounter/CreateTodoButton.js","TodoCounter/index.js","TodoSearch/index.js","TodoList/index.js","TodoItem/index.js","TodoHeader/index.js","TodoForm/index.js","TodoError/index.js","TodoLoading/index.js","TodoEmpty/index.js","Modal/index.js","App/useTodos.js","App/useLocalStorage.js","ChangeAlert/index.js","ChangeAlert/useStorageListener.js","App/index.js","index.js"],"names":["CreateTodoButton","className","icon","faPlus","TodoCounter","completedTodos","allTodos","loading","TodoSearch","searchValue","setSearchValue","type","placeholder","value","onChange","e","target","disabled","TodoList","error","onError","onLoading","searchedtodos","onEmpty","render","searchText","onEmptyResult","length","map","TodoItem","props","complete","faCheckSquare","onClick","onComplete","text","faWindowClose","onDelete","TodoHeader","children","React","Children","toArray","child","cloneElement","TodoForm","addTodo","modalRef","useState","newTodoValue","setNewTodoValue","onSubmit","preventDefault","modal","current","Modal","getInstance","hide","id","rows","TodoError","TodoLoading","TodoEmpty","ReactDOM","createPortal","tabIndex","ref","reference","title","document","querySelector","useTodos","nameLocalStorage","valueDefault","item","setItem","setLoading","setError","sincronizedItem","setSincronizedItem","useEffect","setTimeout","parsedItems","localStorageItems","localStorage","getItem","JSON","parse","stringify","saveItem","newItems","sincronizeItem","useLocalStorage","todos","saveTodo","sincronizeTodo","createRef","filter","todo","toLowerCase","includes","completeTodo","positionTodo","findIndex","newTodo","deleteTodo","splice","name","reduce","prev","push","ChangeAlert","sincronize","storageChange","setStorageChange","window","addEventListener","change","key","show","toggleShow","useStorageListener","role","App","Fragment","getElementById"],"mappings":"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","file":"static/js/main.30dc2c2e.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction CreateTodoButton() {\r\n  return (\r\n    <button\r\n      className=\"btn btn-blue\"\r\n      data-bs-toggle=\"modal\"\r\n      data-bs-target=\"#exampleModal\"\r\n    >\r\n      <span className=\"mr-3\">Nuevo </span>\r\n      <FontAwesomeIcon icon={faPlus} />\r\n    </button>\r\n  );\r\n}\r\n\r\nexport { CreateTodoButton };\r\n","import React from \"react\";\r\nimport \"./TodoCounter.css\";\r\n\r\nimport { CreateTodoButton } from \"./CreateTodoButton\";\r\n\r\nfunction TodoCounter({ completedTodos, allTodos, loading }) {\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col-12 col-md-6 offset-md-3 d-flex align-items-center justify-content-between\">\r\n        <h2 className={`my-5 ${!!loading && \"Todo-counter--loading\"} `}>\r\n          Has completado {completedTodos} de {allTodos} TODOs\r\n        </h2>\r\n        <CreateTodoButton />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { TodoCounter };\r\n","import React from \"react\";\r\nimport \"./TodoSearch.css\";\r\n\r\nfunction TodoSearch({ searchValue, setSearchValue, loading }) {\r\n  const onSearchValueChange = (e) => {\r\n    // console.log(e.target.value);\r\n\r\n    setSearchValue(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <section className=\"container mb-4\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12 col-md-6 offset-md-3\">\r\n          <input\r\n            className=\"form-control\"\r\n            type=\"text\"\r\n            placeholder=\"Buscar TO-DO\"\r\n            value={searchValue}\r\n            onChange={onSearchValueChange}\r\n            disabled={loading}\r\n          />\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport { TodoSearch };\r\n","import React from \"react\";\r\n\r\nfunction TodoList({\r\n  error,\r\n  onError,\r\n  loading,\r\n  onLoading,\r\n  searchedtodos,\r\n  onEmpty,\r\n  render,\r\n  allTodos,\r\n  searchText,\r\n  onEmptyResult,\r\n}) {\r\n  return (\r\n    <section className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12 col-md-6 offset-md-3\">\r\n          {error && onError()}\r\n          {loading && onLoading()}\r\n          {!loading && !allTodos && onEmpty()}\r\n          {!!allTodos && !searchedtodos.length && onEmptyResult(searchText)}\r\n\r\n          {!loading && <ul className=\"m-0 p-0\">{searchedtodos.map(render)}</ul>}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport { TodoList };\r\n","import React from \"react\";\r\nimport \"./TodoItem.css\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCheckSquare } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faWindowClose } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction TodoItem(props) {\r\n  return (\r\n    <li className=\"Todo-Item\">\r\n      <FontAwesomeIcon\r\n        className={`icon ${props.complete ? \"text-success\" : \"text-muted\"} `}\r\n        icon={faCheckSquare}\r\n        onClick={props.onComplete}\r\n      />\r\n      <span className={`${props.complete && \"text-decoration-line-through\"}`}>\r\n        {props.text}\r\n      </span>\r\n      <FontAwesomeIcon\r\n        className=\"text-danger icon float-end\"\r\n        icon={faWindowClose}\r\n        onClick={props.onDelete}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport { TodoItem };\r\n","import React from \"react\";\r\n\r\nfunction TodoHeader({ children, loading }) {\r\n  return (\r\n    <header className=\"container\">\r\n      {React.Children.toArray(children).map((child) =>\r\n        React.cloneElement(child, { loading })\r\n      )}\r\n    </header>\r\n  );\r\n}\r\n\r\nexport { TodoHeader };\r\n","import React from \"react\";\r\n\r\n// bootstrap / dist / js / bootstrap.min.js;\r\nimport { Modal } from \"../../node_modules/bootstrap/dist/js/bootstrap.min.js\";\r\n\r\nfunction TodoForm({ addTodo, modalRef }) {\r\n  const [newTodoValue, setNewTodoValue] = React.useState(\"\");\r\n\r\n  const onChange = (e) => {\r\n    setNewTodoValue(e.target.value);\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    addTodo(newTodoValue);\r\n    // const modal = document.querySelector(\"#ExampleModal\");\r\n    const modal = modalRef.current;\r\n    const instanceModal = Modal.getInstance(modal);\r\n    instanceModal.hide();\r\n    setNewTodoValue(\"\");\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <div className=\"mb-3\">\r\n        <textarea\r\n          className=\"form-control\"\r\n          id=\"nuevo-todo\"\r\n          rows=\"3\"\r\n          value={newTodoValue}\r\n          placeholder=\"Ir al cine a las 8:00\"\r\n          onChange={onChange}\r\n        ></textarea>\r\n      </div>\r\n      <button type=\"submit\" className=\"btn btn-primary\">\r\n        Guardar\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport { TodoForm };\r\n","import React from \"react\";\r\n\r\nfunction TodoError() {\r\n  return <p>Ocurrió un error...</p>;\r\n}\r\n\r\nexport { TodoError };\r\n","import React from \"react\";\r\n\r\nfunction TodoLoading() {\r\n  return <p>Estamos cargando...</p>;\r\n}\r\n\r\nexport { TodoLoading };\r\n","import React from \"react\";\r\n\r\nfunction TodoEmpty() {\r\n  return <p>Cree tu primer todo!</p>;\r\n}\r\n\r\nexport { TodoEmpty };\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nfunction Modal(props) {\r\n  return ReactDOM.createPortal(\r\n    <div\r\n      className=\"modal fade\"\r\n      id=\"exampleModal\"\r\n      tabIndex=\"-1\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n      ref={props.reference}\r\n    >\r\n      <div className=\"modal-dialog\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"exampleModalLabel\">\r\n              {!!props.title ? props.title : \"\"}\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn-close\"\r\n              data-bs-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            ></button>\r\n          </div>\r\n          <div className=\"modal-body\">{props.children}</div>\r\n        </div>\r\n      </div>\r\n    </div>,\r\n    document.querySelector(\"#modal\")\r\n  );\r\n}\r\n\r\nexport { Modal };\r\n","import React from \"react\";\r\n\r\nimport { useLocalStorage } from \"./useLocalStorage\";\r\n\r\nfunction useTodos() {\r\n  //LocalStorage\r\n  const {\r\n    item: todos,\r\n    saveItem: saveTodo,\r\n    loading,\r\n    error,\r\n    sincronizeItem: sincronizeTodo,\r\n  } = useLocalStorage(\"TODOS_V1\", []);\r\n\r\n  const [searchValue, setSearchValue] = React.useState(\"\");\r\n\r\n  const modalRef = React.createRef(null);\r\n\r\n  // Todo counter\r\n  const completedTodos = todos.filter((todo) => !!todo.complete).length;\r\n  const allTodos = todos.length;\r\n\r\n  //Todo Search\r\n  let searchedtodos = todos.filter((todo) => {\r\n    return todo.text.toLowerCase().includes(searchValue.toLowerCase());\r\n  });\r\n\r\n  const completeTodo = (id) => {\r\n    const positionTodo = todos.findIndex((todo) => todo.id === id);\r\n    let newTodo = [...todos];\r\n    newTodo[positionTodo].complete = !newTodo[positionTodo].complete;\r\n    saveTodo(newTodo);\r\n  };\r\n\r\n  const addTodo = (name) => {\r\n    let newTodo = [...todos];\r\n    let id;\r\n    if (newTodo.length > 0) {\r\n      id = newTodo.reduce((prev, current) =>\r\n        prev.id > current.id ? prev.id : current.id\r\n      );\r\n    } else {\r\n      id = 1;\r\n    }\r\n\r\n    newTodo.push({\r\n      id: id + 1,\r\n      complete: false,\r\n      text: name,\r\n    });\r\n\r\n    saveTodo(newTodo);\r\n  };\r\n\r\n  const deleteTodo = (id) => {\r\n    const positionTodo = todos.findIndex((todo) => todo.id === id);\r\n    let newTodo = [...todos];\r\n\r\n    newTodo.splice(positionTodo, 1);\r\n    saveTodo(newTodo);\r\n  };\r\n\r\n  return {\r\n    loading,\r\n    error,\r\n    completedTodos,\r\n    allTodos,\r\n    searchValue,\r\n    setSearchValue,\r\n    searchedtodos,\r\n    completeTodo,\r\n    deleteTodo,\r\n    addTodo,\r\n    modalRef,\r\n    sincronizeTodo,\r\n  };\r\n}\r\n\r\nexport { useTodos };\r\n","import React from \"react\";\r\n\r\nfunction useLocalStorage(nameLocalStorage, valueDefault) {\r\n  const [item, setItem] = React.useState(valueDefault);\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [error, setError] = React.useState(false);\r\n  const [sincronizedItem, setSincronizedItem] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    setTimeout(() => {\r\n      try {\r\n        const localStorageItems = localStorage.getItem(nameLocalStorage);\r\n\r\n        let parsedItems;\r\n\r\n        //Si no esta en localstorage crearlo\r\n        if (!localStorageItems) {\r\n          localStorage.setItem(nameLocalStorage, JSON.stringify(valueDefault));\r\n          parsedItems = valueDefault;\r\n        } else {\r\n          parsedItems = JSON.parse(localStorageItems);\r\n        }\r\n\r\n        setItem(parsedItems);\r\n        setLoading(false);\r\n        setSincronizedItem(true);\r\n      } catch (error) {\r\n        setError(true);\r\n      }\r\n    }, 1000);\r\n  }, [sincronizedItem]);\r\n\r\n  const saveItem = (newItems) => {\r\n    localStorage.setItem(nameLocalStorage, JSON.stringify(newItems));\r\n\r\n    setItem(newItems);\r\n  };\r\n\r\n  const sincronizeItem = () => {\r\n    setLoading(true);\r\n    setSincronizedItem(false);\r\n  };\r\n\r\n  return { item, saveItem, loading, error, sincronizeItem };\r\n}\r\n\r\nexport { useLocalStorage };\r\n","import React from \"react\";\r\n\r\nimport { useStorageListener } from \"./useStorageListener\";\r\n\r\nfunction ChangeAlert({ sincronize }) {\r\n  const { show, toggleShow } = useStorageListener(sincronize);\r\n\r\n  if (show) {\r\n    return (\r\n      <section className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12 col-md-6 offset-3\">\r\n            <div className=\"alert alert-success\" role=\"alert\">\r\n              <p>Hubo Cambios</p>\r\n              <button className=\"btn btn-success\" onClick={() => toggleShow()}>\r\n                Volver a cargar la información\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport { ChangeAlert };\r\n","import React from \"react\";\r\n\r\nfunction useStorageListener(sincronize) {\r\n  const [storageChange, setStorageChange] = React.useState(false);\r\n\r\n  window.addEventListener(\"storage\", (change) => {\r\n    if (change.key === \"TODOS_V1\") {\r\n      setStorageChange(true);\r\n    }\r\n  });\r\n\r\n  const toggleShow = () => {\r\n    sincronize();\r\n    setStorageChange(false);\r\n  };\r\n\r\n  return {\r\n    show: storageChange,\r\n    toggleShow,\r\n  };\r\n}\r\n\r\nexport { useStorageListener };\r\n","// import './App.css';\r\nimport React from \"react\";\r\n\r\n//componentes\r\nimport { TodoCounter } from \"../TodoCounter\";\r\nimport { TodoSearch } from \"../TodoSearch\";\r\nimport { TodoList } from \"../TodoList\";\r\nimport { TodoItem } from \"../TodoItem\";\r\nimport { TodoHeader } from \"../TodoHeader\";\r\nimport { TodoForm } from \"../TodoForm\";\r\n\r\n//componentes de validación\r\nimport { TodoError } from \"../TodoError\";\r\nimport { TodoLoading } from \"../TodoLoading\";\r\nimport { TodoEmpty } from \"../TodoEmpty\";\r\n\r\n//Portal\r\nimport { Modal } from \"../Modal\";\r\n\r\n//Hook\r\nimport { useTodos } from \"./useTodos\";\r\n\r\n//HOC\r\nimport { ChangeAlert } from \"../ChangeAlert\";\r\n\r\nfunction App() {\r\n  const {\r\n    error,\r\n    loading,\r\n    searchedtodos,\r\n    completeTodo,\r\n    deleteTodo,\r\n    modalRef,\r\n    completedTodos,\r\n    allTodos,\r\n    searchValue,\r\n    setSearchValue,\r\n    addTodo,\r\n    sincronizeTodo,\r\n  } = useTodos();\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <TodoHeader loading={loading}>\r\n        <TodoCounter completedTodos={completedTodos} allTodos={allTodos} />\r\n        <TodoSearch searchValue={searchValue} setSearchValue={setSearchValue} />\r\n      </TodoHeader>\r\n\r\n      <TodoList\r\n        error={error}\r\n        loading={loading}\r\n        searchedtodos={searchedtodos}\r\n        allTodos={allTodos}\r\n        searchText={searchValue}\r\n        onError={() => <TodoError />}\r\n        onLoading={() => <TodoLoading />}\r\n        onEmpty={() => <TodoEmpty />}\r\n        onEmptyResult={(value) => <p>No hay resultados para {value}</p>}\r\n        render={(todo) => (\r\n          <TodoItem\r\n            complete={todo.complete}\r\n            text={todo.text}\r\n            key={todo.id}\r\n            onComplete={() => completeTodo(todo.id)}\r\n            onDelete={() => deleteTodo(todo.id)}\r\n          />\r\n        )}\r\n      />\r\n\r\n      <Modal reference={modalRef} title=\"Crear nuevo To-do\">\r\n        <TodoForm addTodo={addTodo} modalRef={modalRef} />\r\n      </Modal>\r\n\r\n      <ChangeAlert sincronize={sincronizeTodo} />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"@popperjs/core\";\r\nimport \"bootstrap/dist/js/bootstrap.min.js\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}